head(train.set)
summary(train.set$vendor_id)
unique(train.set$vendor_id)
unique(train.set$vendor_id)
str(train.set)
substr(train.set$pickup_datetime,1,10)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
head(train.set$pickup_date)
unique(train.set$pickup_date)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- substr(train.set$pickup_datetime,1,11) * 3600
train.set$pickup_seconds <- as.number(substr(train.set$pickup_datetime,1,11)) * 3600
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- substr(train.set$pickup_datetime,1,11)
head(train.set)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- substr(train.set$pickup_datetime,11,13)
unique(train.set$vendor_id)
head(train.set)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- as.number(substr(train.set$pickup_datetime,11,13)) 3600
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- as.number(substr(train.set$pickup_datetime,11,13)) * 3600
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- substr(train.set$pickup_datetime,11,13) * 3600
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- substr(train.set$pickup_datetime,11,13)
class(train.set$pickup_seconds)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- as.numeric(substr(train.set$pickup_datetime,11,13))
train.set$pickup_seconds <- as.numeric(substr(train.set$pickup_datetime,11,13))
head(train.set)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- as.numeric(substr(train.set$pickup_datetime,11,13))  * 2  +
ifelse(as.numeric(substr(train.set$pickup_datetime,15,17)) > 30, 1,0)
head(train.set)
head(as.numeric(substr(train.set$pickup_datetime,11,13))  * 2 )
ifelse(as.numeric(substr(train.set$pickup_datetime,15,17)) > 30, 1,0)
head(substr(train.set$pickup_datetime,15,17)
)
head(substr(train.set$pickup_datetime,15,16))
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_seconds <- as.numeric(substr(train.set$pickup_datetime,11,13))  * 2  +
ifelse(as.numeric(substr(train.set$pickup_datetime,15,16)) > 30, 1,0)
head(substr(train.set$pickup_datetime,15,16))
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_period <- as.numeric(substr(train.set$pickup_datetime,11,13))  * 2  +
ifelse(as.numeric(substr(train.set$pickup_datetime,15,16)) > 30, 1,0)
head(train.set)
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_period <- as.numeric(substr(train.set$pickup_datetime,11,13))  * 2  +
ifelse(as.numeric(substr(train.set$pickup_datetime,15,16)) > 30, 1,0)
head(train.set)
train.set <- read.csv("train.csv")
head(train.set)
head(train.set)
train.set <- read.csv("train.csv")
safecopy.train.set <- train.set
unique(train.set$vendor_id)
train.set$pickup_date <- substr(train.set$pickup_datetime,1,10)
train.set$pickup_period <- as.numeric(substr(train.set$pickup_datetime,11,13))  * 2  +
ifelse(as.numeric(substr(train.set$pickup_datetime,15,16)) > 30, 1,0)
train.set$dropoff_date <- substr(train.set$dropoff_datetime,1,10)
train.set$dropoff_period <- as.numeric(substr(train.set$dropoff_datetime,11,13))  * 2  +
ifelse(as.numeric(substr(train.set$pickup_datetime,15,16)) > 30, 1,0)
head(train.set)
unique(train.set$pickup_date)
nrow(unique(train.set$pickup_date))
min(train.set$pickup_longitude)
max(train.set$pickup_longitude)
max(train.set$pickup_latitude)
min(train.set$pickup_latitude)
train.set$pickup_date <- as.Date(train.set$pickup_date)
train.set$dropoff_date < as.Date(train.set$dropoff_date)
str(train.set)
train.set$dropoff_date < as.Date(train.set$dropoff_date)
str(train.set)
head(train.set$dropoff_date)
as.Date(head(train.set$dropoff_date))
as.Date(head(train.set$dropoff_date,format = "%Y-%m-%d"))
as.Date(head(train.set$dropoff_date,format = "%Y-%m-%d"))
as.Date(head(train.set$dropoff_date,format = "%Y-%m-%d")) -> train.set$dropoff_date
as.Date(head(train.set$dropoff_date,format = "%Y-%m-%d")) -> train.set$dropoff_date1
as.Date((train.set$dropoff_date,format = "%Y-%m-%d")) -> train.set$dropoff_date1
as.Date(train.set$dropoff_date,format = "%Y-%m-%d") -> train.set$dropoff_date1
as.Date(train.set$dropoff_date,format = "%Y-%m-%d") -> train.set$dropoff_date
as.Date(train.set$dropoff_date,format = "%Y-%m-%d") -> train.set$dropoff_date
View(train.set)
View(train.set)
View(train.set)
View(train.set)
View(train.set)
head(train.set$pickup_date)
head(as.date(train.set$pickup_date,format = "%a")
)
format(train.set$pickup_date, format = "%a")
train.set$pickup_day <- format(train.set$pickup_date,format = "%A")
format(train.set$pickup_date, format = "%a")
head(train.set,20)
head(train.set$pickup_longitude,20)
cut(head(train.set$pickup_longitude,20),3)
cut(head(train.set$pickup_longitude,20),g = 3)
cut(head(train.set$pickup_longitude,20),3,g = 3)
# mean travel time
library((ggplot2))
# mean travel time
library(ggplot2)
geom_point(train.set, aes(x = pickup_day)) + geom_histogram()
geom_point(train.set, aes(x = pickup_period)) + geom_histogram()
View(train.set)
View(train.set)
geom_point(train.set, aes(x = pickup_period)) + geom_boxplot()
geom_point(train.set) + geom_histogram(aes(x = pickup_period))
geom_point(train.set) + geom_histogram(aes(pickup_period))
ggplot(train.set) + geom_histogram(aes(pickup_period))
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
facet_wrap(aes(~pickup_day))
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
facet_wrap(aes(~ pickup_day))
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
scale_x_continuous(breaks = 1:48)
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
scale_x_continuous(limits = c(0,48))
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4))
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
facet_grid( ~ pickup_day, nrow = 3)
ggplot(train.set) + geom_histogram(aes(pickup_period)) +
scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
facet_wrap( ~ pickup_day, nrow = 3)
ggplot(train.set) + geom_boxplot(aes(pickup_period)) +
# scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
facet_wrap( ~ pickup_day, nrow = 3)
ggplot(train.set) +
geom_boxplot(aes(x = pickup_period,y = trip_duration)) +
# scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
#facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_period,y = trip_duration)) +
# scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
#facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_period,y = trip_duration))
# scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
#facet_wrap( ~ pickup_day, nrow = 3)
summary(train.set$trip_duration)
ggplot(data = train.set) +
geom_histogram(aes(trip_duration))
# scale_x_continuous(limits = c(0,48),breaks = seq(0,48,4)) +
#facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set) +
geom_histogram(aes(trip_duration))
scale_x_continuous(limits = c(0,100)
#facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set) +
geom_histogram(aes(trip_duration))
scale_x_continuous(limits = c(0,100) )
#facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set) +
geom_histogram(aes(trip_duration))
scale_x_continuous(limits = c(0,1000), breaks = seq(0,2000,200))
#facet_wrap( ~ pickup_day, nrow = 3)
# ggplot(data = train.set) +
#   geom_histogram(aes(trip_duration))
#   scale_x_continuous(limits = c(0,1000), breaks = seq(0,2000,200))
#facet_wrap( ~ pickup_day, nrow = 3)
boxplot(train.set$trip_duration)
# ggplot(data = train.set) +
#   geom_histogram(aes(trip_duration))
#   scale_x_continuous(limits = c(0,1000), breaks = seq(0,2000,200))
#facet_wrap( ~ pickup_day, nrow = 3)
boxplot(train.set$trip_duration)
train.set[trip_duration > 1000]
# ggplot(data = train.set) +
#   geom_histogram(aes(trip_duration))
#   scale_x_continuous(limits = c(0,1000), breaks = seq(0,2000,200))
#facet_wrap( ~ pickup_day, nrow = 3)
boxplot(train.set$trip_duration)
train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(trip_duration)
ggplot(data = train.set) +
geom_boxplot(aes(trip_duration))
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(limits = seq(0,2000,200))
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = 1:1000)
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = 1:1000,limits = seq(0,500,100))
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = c(1,1000),limits = seq(0,500,100))
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = c(1,1000))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,250))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,500,250))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,500,250),limits=c(0, 175))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 300))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(100, 300))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
summary(train.set$trip_duration)
ggplot(data = train.set) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1200))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
train.set[train.set$trip_duration > 1200]
train.set[which(trip_duration > 1000)]
train.set[which(trip_duration > 1000),]
train.set[ which(trip_duration > 1000), ]
train.set[ which(train.set$trip_duration > 1000), ]
train.set[ which(train.set$trip_duration > 2000), ]
train.set[ which(train.set$trip_duration > 3000), ]
train.set[ which(train.set$trip_duration > 3000), ]
train.set[ which(train.set$trip_duration > 5000), ]
train.set[ which(train.set$trip_duration > 6000), ]
train.set[ which(train.set$trip_duration > 8000), ]
train.set[ which(train.set$trip_duration > 10000), ]
summary(train.set$trip_duration)
train.set[ which(train.set$trip_duration > 1500), ]
train.set[ which(train.set$trip_duration > 3000), ]
train.set[ which(train.set$trip_duration <= 3000), ] ->train.set.nooutlier
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1200))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 3000))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1200))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1500))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration, color = pickup_day)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1500))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration, fill = pickup_day)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1500))
# boxplot(train.set$trip_duration)
# train.set[train.set$trip_duration > 1000,]
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(trip_duration))
ggplot(data = train.set) +
geom_histogram(aes(trip_duration))
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(trip_duration))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,100))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000),bins = 40)
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(round(trip_duration/60),color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000)) +
scale_y_continuous()
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(round(trip_duration/60),color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,20)) +
scale_y_continuous()
ggplot(data = train.set.nooutlier) +
geom_smooth(aes(round(trip_duration/60),color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,20)) +
scale_y_continuous()
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(round(trip_duration),color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000)) +
scale_y_continuous()
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(round(trip_duration),color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000)) +
scale_y_continuous(name = "Trip Counts", breaks = seq(0,18000,1000))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000),name = "Trip Duration") +
scale_y_continuous(name = "Trip Counts", breaks = seq(0,18000,1000))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000),name = "Trip Duration") +
scale_y_continuous(name = "Trip Counts", breaks = seq(0,18000,1000)) +
facet_wrap( ~ pickup_period)
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000),name = "Trip Duration") +
scale_y_continuous(name = "Trip Counts", breaks = seq(0,18000,1000))
# mean travel time
library(ggplot2)
# mean travel time
library(ggplot2)
ggplot(data = train.set.nooutlier) +
geom_boxplot(aes(x = pickup_day, y = trip_duration, fill = pickup_day)) +
scale_y_continuous(breaks = seq(0,1000,100),limits=c(0, 1500))
ggplot(data = train.set.nooutlier) +
geom_freqpoly(aes(trip_duration,color = pickup_day)) +
scale_x_continuous(breaks = seq(0,2000,250),limits = c(0,2000),name = "Trip Duration") +
scale_y_continuous(name = "Trip Counts", breaks = seq(0,18000,1000))
alongTrackDistance(c(0,0),c(60,60),c(50,40))
install.packages("geosphere")
alongTrackDistance(c(0,0),c(60,60),c(50,40))
library(geosphere)
alongTrackDistance(c(0,0),c(60,60),c(50,40))
alongTrackDistance(c(0,0),c(60,60))
distm(c(train.set$pickup_longitude,train.set$pickup_latitude),c(train.set$dropoff_longitude,train.set$dropoff_latitude))
distm(c(train.set$pickup_longitude,train.set$pickup_latitude),c(train.set$dropoff_longitude,train.set$dropoff_latitude))
xy <- rbind(c(0,0),c(90,90),c(10,10),c(-120,-45))
xy
distm(c(train.set$pickup_longitude,train.set$pickup_latitude),c(train.set$dropoff_longitude,train.set$dropoff_latitude),fun=distVincentyEllipsoid)
distm (c(train.set$pickup_latitude, train.set$pickup_longitude), c(train.set$dropoff_latitude, train.set$dropoff_longitude), fun = distHaversine)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(pickup_period))
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(pickup_period, fill = pickup_day))
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(pickup_period, fill = pickup_day)) +
facet_grid( ~ pickup_day)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(pickup_period, fill = pickup_day)) +
facet_grid( ~ pickup_day, nrow = 3)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(pickup_period, fill = pickup_day)) +
facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(pickup_period/2, fill = pickup_day)) +
facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes(round(pickup_period/2), fill = pickup_day)) +
facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes((pickup_period/2), fill = pickup_day)) +
facet_wrap( ~ pickup_day, nrow = 3)
ggplot(data = train.set.nooutlier) +
geom_histogram(aes((pickup_period/2), fill = pickup_day)) +
geom_abline() +
facet_wrap( ~ pickup_day, nrow = 3)
View(train.set)
ggplot(data = train.set.nooutlier) +
geom_point(aes(pickup_period,pickup_duration)
ggplot(data = train.set.nooutlier) +
geom_point(aes(pickup_period,pickup_duration))
ggplot(data = train.set.nooutlier) +
geom_point(aes(pickup_period,trip_duration))
